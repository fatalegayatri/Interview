<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>fetch("https://app.askspottest.com/api/get-chatbot", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ chatbotId: "66b1d865783992be6ead6928", url: `${window.location.href}` }) }).then(function (e) { if (200 === e.status) return e.text(); throw new Error("Error fetching data, status code: " + e.status) }).then(function (e) { var t = document.createElement("script"); t.innerHTML = e, document.body.appendChild(t) }).catch(function (e) { console.error("Fetch error: ", e) });</script>
    <style>
        body,
        html {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            cursor: pointer;
            position: relative;
        }

        #circle {

            border: 2px solid yellowgreen;
        }
    </style>
</head>

<body>


    <script defer>
        const getRandomWidth = () => {
            return Math.random() * 100;
        };
        const isIntersecting = (circle1, circle2) => {
            const rect1 = circle1.getBoundingClientRect();
            const rect2 = circle2.getBoundingClientRect();
            console.log(rect1, rect2);


            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;
            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;

            const dx = x2 - x1;
            const dy = y2 - y1;
            const distance = Math.sqrt(dx * dx + dy * dy);

            const radius1 = rect1.width / 2;
            const radius2 = rect2.width / 2;

            return distance < radius1 + radius2;
        };

        var count = 0;
        const btn = document.body;
        btn.style.cursor = "pointer";
        let newdiv;
        const postions = [];

        btn.addEventListener("click", (e) => {
            console.log(e.clientX, e.clientY);
            const place = { x: e.clientX, y: e.clientY };
            newdiv = document.createElement("div");
            document.body.appendChild(newdiv);
            newdiv.classList.add("circle");
            newdiv.style.position = "fixed";
            newdiv.style.left = e.clientX - 100 + "px";
            newdiv.style.top = e.clientY - 100 + "px";
            newdiv.style.width = 200 + "px"
            newdiv.style.height = 200 + "px";
            newdiv.style.borderRadius = "50%";
            newdiv.style.borderWidth = "9px";
            newdiv.style.boxShadow = "9px";
            newdiv.style.borderStyle = "solid";

            newdiv.style.borderColor = "green";

            const allCircles = document.querySelectorAll(".circle");
            if (allCircles.length > 2) {
                allCircles.forEach((circle, index) => {
                    btn.removeChild(circle);

                });

            }
            if (allCircles.length > 1) {
                const [circle1, circle2] = allCircles;
                if (isIntersecting(circle1, circle2)) {
                    console.log("intersecting");
                }
            }
            console.log(count);
        });
    </script>
</body>

</html>